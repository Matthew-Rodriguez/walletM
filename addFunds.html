<!DOCTYPE = html>
<html>

<!-- I do not own this design; this design was created by Venture Three and belongs to TransferWise. This is my attempt at recreating the design with 100% my own code as a practice project -->

<head>
  <title>NOT THE REAL SITE | Practice Build of the TransferWise Site</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="description" content="I do not own this design; this design was created by Venture Three and belongs to TransferWise. This is my attempt at recreating the design with 100% my own code as a practice project.">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
  <link href="css2/pay.css" rel="stylesheet" type="text/css">
</head>

<body>
  <!-- Background (holds nav & hero page) -->
  <div id="bg">
    <span id="bg-square"></span>
    <span id="bg-circle"></span>

    <!-- Navigation bar -->
 
    <nav id="navbar">
        <div id="mobile-menu-button" class="mobile-menu-toggle">
          <div id="mobile-menu-close">âœ•</div>
        </div>
        <a href="dashboard.html" tabindex="1">
          <div ><img id="transferwise-logo" src="img/cco.svg"></div>
        </a>
  
        
  
  
  
        <div id="mobile-menu-overlay" class="mobile-menu-toggle"></div>
      </nav>
    
    <!-- Main hero page content -->
    <main>
      <section id="landing-page">
        <!-- Left side of hero page -->
        <div id="information-container">
          <header autofocus>
            <h1>Zero fees<br> strictly business    
            </header>

            <span id="service-description"><p>You could <a href="#" target="_blank" tabindex="9">save up to 4x</a> compared to a bank when you send money, get paid in other currencies, or spend abroad on the CoinChase App</p></span>

          <button class="how-it-works-button" id="how-it-works-laptop-button" tabindex="10"><a href="send.html" style="text-decoration: none; color: rgb(52, 8, 173);">Send Money</a></button>

          <div id="accreditation-container">
            <figure id="tuev-figure" class="accreditation">
              <img src="https://transferwise.com/static/images/index/logos/tuv_sud.png" alt="TÃœV standards icon">
              <figcaption>Security + Privacy Verified<br>
                <a href="#" tabindex="11">The report</a></figcaption>
            </figure>

            <figure id="customer-figure" class="accreditation">
              <img src="https://daw291njkc3ao.cloudfront.net/conversion/landing-illustrations/customers.svg" alt="Happy customer icon">
              <figcaption>Over 4 million customers<br>
                <a href="#" tabindex="12">Hear from them</a></figcaption>
            </figure>
          </div>
        </div>

        <!-- Right side of hero page -->
        <div id="floating-calculator">
          <div id="money-tab-container">
            <span id="send-money-tab" class="money-tab selected-tab" tabindex="13">
              <p class="tab-icon">Ì¥â†—</p>
              <p class="tab-text">Buy</p>
            </span>
            <span id="receive-money-tab" class="money-tab" tabindex="14">
              <p class="tab-icon">Ì¥â†™</p>
              <p class="tab-text">Sell</p>
            </span>
            <span id="debit-card-tab" class="money-tab" tabindex="15">
              <p class="tab-icon">â‡„</p>
              <p class="tab-text">Account 1</p>
            </span>
          </div>

          <!-- Rightbox calculator-->
          <div id="send-money-tab-content" class="tab-contents">

            <div id="send-money-input-box" class="cash-value-box">
              <select id="input-currency-select" name="input-currency-select" class="currency-select" tabindex="17">
                <option name="input-currency-select" value="EUR" >ðŸ‡ªðŸ‡º EUR</option>
                <option name="input-currency-select" value="GBP">ðŸ‡¬ðŸ‡§ GBP</option>
                <option name="input-currency-select" value="USD" selected>ðŸ‡ºðŸ‡¸ USD</option>
                <option name="input-currency-select" value="INR">ðŸ‡®ðŸ‡³ INR</option>
              </select>

              <p>Amount</p>
              <input id="input-value" oninput="renderNewValues(this.value)" type="text" onfocus="this.placeholder=''" onblur="resetInput(this.value)" tabindex="16"></input>
            </div>

            <div id="fee-bullet-point-line">
              <div id="fee-bullet-point-1" class="fee-bullet-point-circle"></div>
              <div id="fee-bullet-point-2" class="fee-bullet-point-circle"></div>
              <div id="fee-bullet-point-3" class="fee-bullet-point-circle"></div>
            </div>

            <div id="fee-breakdown-section">
              <p id="show-fee-button" tabindex="18">Show fee breakdown</p>

              <div id="fee-breakdown-grid">
                <p id="fee-value"></p>
                <p><select id="transfer-speed" tabindex="19"><option value="fast-easy-transfer">Fast and easy transfer</option>
                <option value="low-cost-transfer">Low cost transfer</option>
                </select> fee</p>

                <p id="amount-to-convert" class="fee-details"></p>
                <p class="fee-details">Amount we'll convert</p>

                <p id="exchange-rate"></p>
              </div>
            </div>

            <div id="receive-money-output-box" class="cash-value-box">
              <select id="output-currency-select" name="output-currency-select" class="currency-select" tabindex="22">
              <option name="output-currency-select" value="EUR">ðŸ‡ªðŸ‡º EUR</option>
              <option name="output-currency-select" value="GBP" selected>&#8383;
                BTC</option>
              <option name="output-currency-select" value="USD">ðŸ‡ºðŸ‡¸ USD</option>
              <option name="output-currency-select" value="INR">ðŸ‡®ðŸ‡³ INR</option>
            </select>

              <p id="receive-text">Converted</p>
              <input id="output-value" type="text" onfocus="this.placeholder=''" tabindex="21"></input>

              <div id="insufficient-amount-error">
                <p id="insufficient-amount-error-text"></p>
              </div>
            </div>

            <div id="savings-container">
              <p>Saved: <b id="total-savings"></b><br>Should arrive <b id="arrival-time">in seconds!</b></p>
            </div>

            <div id="compare-get-started-container">
              <button id="compare-button" tabindex="23">Compare price</button>
              <button id="get-started-button" tabindex="24">BUY</button>
            </div>
            <div class="alert-box success" >Transaction Successful &#10003;</div>

          </div>
          <div id="receive-money-tab-content" class="tab-contents" >
            <div>
              <p></p>
              <div id="send-money-input-box" class="cash-value-box">
                <select id="input-currency-select" name="input-currency-select" class="currency-select" tabindex="17">
                  <option name="output-currency-select" value="USD" selected>ðŸ‡ºðŸ‡¸ USD</option>
                  <option name="output-currency-select" value="GBP" selected>&#8383;
                    BTC</option>                  <option name="output-currency-select" value="GBP" >LTC</option>
                  <option name="output-currency-select" value="INR">EU</option>
                </select>

                <p>Sell Amount</p>

                <input id="input-value" oninput="renderNewValues(this.value)" type="text" onfocus="this.placeholder=''" onblur="resetInput(this.value)" tabindex="16"></input>
              </div>
          
              <div id="receive-money-output-box" class="cash-value-box">
                <select id="input-currency-select" name="input-currency-select" class="currency-select" tabindex="17">
                    <option name="input-currency-select" value="EUR" >ðŸ‡ªðŸ‡º EUR</option>
                    <option name="input-currency-select" value="GBP">ðŸ‡¬ðŸ‡§ GBP</option>
                    <option name="input-currency-select" value="USD" selected>ðŸ‡ºðŸ‡¸ USD</option>
                    <option name="input-currency-select" value="INR">ðŸ‡®ðŸ‡³ INR</option>
                  </select>
                <p id="receive-text">Converted To</p>
                
                <input id="output-value" type="text" onfocus="this.placeholder=''" tabindex="21" ></input>
  
                
          
              </div>
              <p id="amount-to-convert" class="fee-details"></p>
              <p class="fee-details">Amount we'll convert</p>

              <p id="exchange-rate"></p>
              
            </div>
            <div id="compare-get-started-container">
              
              <button id="get-started-button" class="also" tabindex="24" >Sell</button>


            </div>
            <div class="alert-box success" >Sold &#10003;</div>



          </div>
          <div id="debit-card-tab-content" class="tab-contents">
            <div>
              <p style="padding-bottom: 1rem;">Matthew Rodriguez</p>
              <p>Routing Number: ******42</p>

              <p>Routing Number: ******21</p>

            </div>
          </div>
        </div>


      </section>
    </main>
    <img src="img/rocket.svg" class="rocket vert-move" id="vert" >

  </div>

  
  <script src="landing-page.js" type="text/javascript"></script>


  
  <script src="js/scripts.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

  <script src="js/jquery-3.0.0.min.js"></script>
  <script src="js/jquery-migrate-3.0.0.min.js"></script>


  <script>
$( "#get-started-button" ).click(function() {
  $( ".success" ).fadeIn( 300 ).delay( 1500 ).fadeOut( 400 );
});

$( ".also" ).click(function() {
  $( ".success" ).fadeIn( 300 ).delay( 1500 ).fadeOut( 400 );
});

/*
var video = document.getElementById('video');

// Get access to the camera!
if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
    // Not adding `{ audio: true }` since we only want video now
    navigator.mediaDevices.getUserMedia({ video: true }).then(function(stream) {
        //video.src = window.URL.createObjectURL(stream);
        video.srcObject = stream;
        video.play();
    });
}
*/
const LANDING_PAGE = document.getElementById("landing-page");
        const MOBILE_MENU_TOGGLES = document.getElementsByClassName("mobile-menu-toggle");
        const MOBILE_MENU_OVERLAY = document.getElementById("mobile-menu-overlay");
        const MOBILE_MENU_CLOSE = document.getElementById("mobile-menu-close");
        const NAVBAR_LINKS = document.getElementById("navbar-links");
        const DROP_LINK = document.getElementsByClassName("drop-down-link");
        const DROP_LINK_CONTENT = document.getElementsByClassName("drop-link-content");
        const MAIN_TABS = document.getElementsByClassName("money-tab");
        const TAB_CONTENTS = document.getElementsByClassName("tab-contents");
        const FEE_BREAKDOWN_GRID = document.getElementById("fee-breakdown-grid");
        const FEE_DETAILS = document.getElementsByClassName("fee-details");
        const CURRENCY_BUTTONS = document.getElementsByClassName("currency-select");
        const OUT_CURRENCY = document.getElementById("output-currency-select");
        const OUTPUT_CONT = document.getElementById("receive-money-output-box");
        const OUTPUT_VALUE = document.getElementById("output-value");
        const RECEIVE_TEXT = document.getElementById("receive-text");
        const INSUFF_ERROR = document.getElementById("insufficient-amount-error");
        const INSUFF_TEXT = document.getElementById("insufficient-amount-error-text");
        const ARRIVAL_TIME = document.getElementById("arrival-time");
        const CLICKABLE_OBJECTS = document.querySelectorAll("[tabindex]");

        const BASE_CHARGE = 0.8;
        const MONTH = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
        const EXCHANGE_RATES = {
            GBP: 0.0023,
          GBP: .0000223,
          USD: 1.14541,
          INR: 80.3551
        };

        let isFeeDetailVisible = false;
        let isMenuVisible = false;
        let menuType = "";
        let transferSpeed = 0.005;




        // FUNCTIONS

        function menuTypeQuery() {
          menuType = window.innerWidth >= 711 ? "laptop" : "mobile";
          adjustMenuFormat();
          setToggleType();
          closeDropLinks();
        }

        function toggleMobileMenu() {
          isMenuVisible = !isMenuVisible;
          adjustMenuFormat();
        }

        function adjustMenuFormat() {
          if (menuType === "mobile") {
            if (isMenuVisible === false) {
              NAVBAR_LINKS.style.display = "none";
              LANDING_PAGE.style.opacity = "1";
              MOBILE_MENU_OVERLAY.style.display = "none";
              MOBILE_MENU_OVERLAY.style.opacity = "0";
              MOBILE_MENU_CLOSE.style.display = "none";
            } else {
              NAVBAR_LINKS.style.display = "inline-block";
              LANDING_PAGE.style.opacity = "0.4";
              MOBILE_MENU_OVERLAY.style.display = "block";
              MOBILE_MENU_OVERLAY.style.opacity = "0.5";
              MOBILE_MENU_CLOSE.style.display = "block";
            }
          } else {
            NAVBAR_LINKS.style.display = "inline-block";
          }
        }

        function openDropLink() {
          closeDropLinks();
          this.children.item(1).style.display = "block";
          if (menuType === "mobile") {
            this.style.color = "var(--logocol)";
          }
        }

        function closeDropLinks() {
          [...DROP_LINK_CONTENT].map(content => content.style.display = "none");
          [...DROP_LINK].map(link => link.style.color =
                             menuType === "mobile" ? "var(--bgcol)" : "white");
        }

        function openTab() {
          [...MAIN_TABS].map(tab => tab.classList.remove("selected-tab"));
          [...TAB_CONTENTS].map(content => content.style.display = "none");
          document.getElementById(`${this.id}-content`).style.display = "block";
          this.classList.add("selected-tab");
        };

        function calculateFee(val) {
          return (BASE_CHARGE + (val - BASE_CHARGE) * transferSpeed).toFixed(2);
        }

        function calculateConvertValue(val) {
          return (val - calculateFee(val)).toFixed(2);
        }

        function getSendCurrency() {
          return document.getElementById("input-currency-select").value; 
        }

        function getReceiveCurrency() {
          return document.getElementById("output-currency-select").value;
        }

        function getExchangeRate() {
          return (EXCHANGE_RATES[getReceiveCurrency()]/EXCHANGE_RATES[getSendCurrency()]).toFixed(5);
        }

        function calculateReceiveValue(val) {
          return (calculateConvertValue(val) * getExchangeRate()).toFixed(2);
        }

        // Random savings of 4.7% for demo
        function calculateSavings(val) {
          return (calculateConvertValue(val) * 0.047).toFixed(2);
        }

        // Update the DOM with newly-calculated values
        function renderNewValues(input) {
          if (isThereAnError(input) || isInputInvalid(input)) { return };

          document.getElementById("fee-value").innerHTML =
            `-${calculateFee(input)} ${getSendCurrency()}`;

          document.getElementById("amount-to-convert").innerHTML =
            `${calculateConvertValue(input)} ${getSendCurrency()}`;

          document.getElementById("exchange-rate").innerHTML =
            getExchangeRate();

          document.getElementById("total-savings").innerHTML =
            `${calculateSavings(input)} ${getSendCurrency()}`;

          OUTPUT_VALUE.value = calculateReceiveValue(input);
        }

        function isThereAnError(val) {
          if (val <= 0.8) {
            OUTPUT_VALUE.value = "0.00";
            INSUFF_ERROR.style.display = "block";
            INSUFF_TEXT.innerHTML = `Please enter an amount more than 0.01 ${getReceiveCurrency()}`;
            OUTPUT_CONT.classList.add("cash-value-box-error");
            OUT_CURRENCY.style.height = "70%";
            OUT_CURRENCY.style.borderRadius = "0 3px 0 0";
            RECEIVE_TEXT.style.color = "#C73B3B";
            return true;
          } else {
            INSUFF_ERROR.style.display = "none";
            RECEIVE_TEXT.style.color = "var(--shapecol)";
            OUTPUT_CONT.classList.remove("cash-value-box-error");
            OUT_CURRENCY.style.height = "100%";
            OUT_CURRENCY.style.borderRadius = "0 3px 3px 0";
            return false;
          }
        }

        function isInputInvalid(input) {
          if (input.match(/(?=\D)(?!\.)/) || input.match(/\.(.{3}|.*\.)/)) {
            document.getElementById("output-value").value = "0.00";
            return true;
          }
        }

        function resetInput(val) {
          document.getElementById("input-value").placeholder = "1,000";
          runCalculator();
        }

        function runCalculator() {
          const INPUT_VALUE = document.getElementById("input-value").value || "1000";
          renderNewValues(INPUT_VALUE);
        }

        function toggleFeeBreakdown() {
          isFeeDetailVisible = !isFeeDetailVisible;
          showFees();
        }

        function showFees() {
          if (isFeeDetailVisible === true) {
            FEE_BREAKDOWN_GRID.style.gridTemplateRows = "30px 30px 30px";
            [...FEE_DETAILS].map(cell => cell.style.visibility = "visible");
          } else {
            FEE_BREAKDOWN_GRID.style.gridTemplateRows = "30px 0px 30px";
            [...FEE_DETAILS].map(cell => cell.style.visibility = "hidden");
          }
        }

        function setArrivalTime() {
          if (this.value === "fast-easy-transfer") {
            transferSpeed = 0.005;
            ARRIVAL_TIME.innerHTML = "in seconds!";
          } else {
            transferSpeed = 0.003;
            ARRIVAL_TIME.innerHTML = `by ${(new Date().getDate() + 1)} ${MONTH[new Date().getMonth()]}`;
            // TO-DO: Must check if date works at end of month/year (potential bug for 30 Jan >> 31 Jan >> 1 Jan >> 2 Feb)
          }
          // renderNewValues();
          runCalculator();
        }

        function removeMouseFocus() {
          [...CLICKABLE_OBJECTS].map(obj => obj.classList.remove("removeMouseFocus"));
          this.classList.add("removeMouseFocus");
        }

        // Determine the correct event and assign event listener to drop links
        function setToggleType() {
          [...DROP_LINK].map(droplink => determineToggleType(droplink));
        }

        // Determine whether drop links open on click(mobile) or hover(laptop)
        function determineToggleType(droplink) {
          if (menuType === "mobile") {
            droplink.addEventListener("click", openDropLink);
            droplink.removeEventListener("mouseover", openDropLink);
            droplink.removeEventListener("mouseout", closeDropLinks);
          } else {
            droplink.addEventListener("mouseover", openDropLink);
            droplink.addEventListener("mouseout", closeDropLinks);
          }
        }




        // EVENT LISTENERS

        window.addEventListener("resize", menuTypeQuery);

        [...CURRENCY_BUTTONS].map(button => button.addEventListener("change", runCalculator));

        document.getElementById("transfer-speed").addEventListener("change", setArrivalTime);

        document.getElementById("show-fee-button").addEventListener("click", toggleFeeBreakdown);

        [...MAIN_TABS].map(tab => tab.addEventListener("click", openTab));

        [...CLICKABLE_OBJECTS].map(obj => obj.addEventListener("click", removeMouseFocus));

        [...MOBILE_MENU_TOGGLES].map(function(toggle) {
          toggle.addEventListener("click", toggleMobileMenu);
          toggle.addEventListener("click", closeDropLinks);
        });




        // WINDOW.ONLOAD/PAGE SETUP
        window.onload = function() {
          resetInput();
          menuTypeQuery();
        }

        // NEXT FEATURE: Reverse calculation, 



  </script>
</body>


</html>
